(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[9],{35:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return s}));var r=n(43),a=n.n(r).a.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"9f716f4578fffd91065817179e197459"}}),c=function(){return a.get("trending/all/day")},i=function(e){return a.get("search/movie?query=".concat(e))},o=function(e){return a.get("movie/".concat(e))},u=function(e){return a.get("movie/".concat(e,"/credits"))},s=function(e){return a.get("movie/".concat(e,"/reviews"))}},77:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n(39),a=n(40),c=n(42),i=n(41),o=n(0),u=n(35),s=n(1),l=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.handleSubmit,t=this.handleChange;return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:e,children:[Object(s.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",value:this.state.query,onChange:t}),Object(s.jsx)("button",{type:"submit",children:"\u041f\u043e\u0438\u0441\u043a \u0444\u0438\u043b\u044c\u043c\u0430"})]})})}}]),n}(o.Component),d=Object(o.lazy)((function(){return n.e(1).then(n.bind(null,80))})),h=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={query:"",movies:[],error:null,loading:!1},e.onChangeQuery=function(t){e.setState({query:t,movies:[],loading:!0})},e}return Object(a.a)(n,[{key:"componentDidUpdate",value:function(){var e=this,t=this.state,n=t.query,r=t.loading;console.log(n),r&&Object(u.d)(n).then((function(t){e.setState({movies:t.data.results,loading:!1})})).catch((function(t){e.setState({loading:!1,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error,r=e.movies;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{onSubmit:this.onChangeQuery}),Object(s.jsxs)("div",{children:[t&&Object(s.jsx)("p",{children:"Movies loading ..."}),n&&Object(s.jsx)("p",{children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c\u044b"}),!t&&!n&&Object(s.jsx)(o.Suspense,{fallback:Object(s.jsx)("p",{children:"Loading ..."}),children:Object(s.jsx)(d,{movies:r})})]})]})}}]),n}(o.Component)}}]);
//# sourceMappingURL=9.228833a3.chunk.js.map